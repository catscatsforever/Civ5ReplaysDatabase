<!doctype html>
<html>

<head>
  <meta charset="utf8">
  <title>CIV 5 Replays Database</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css" type="text/css">
  <link rel="stylesheet" href="demo.css" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js" type="text/javascript"></script>
  <script src='https://cdn.plot.ly/plotly-2.25.2.min.js' type="text/javascript"></script>
  <style>
    p,h1 {
      font-size: 4rem;
      font-weight: normal;
    }
    .js-plotly-plot, .plot-container {
       height: 80vh
    }
    input, section {
      clear: both;
      padding-top: 10px;
      display: none;
    }
    .radioTab {
      font-size: 20px;
      display: block;
      float: left;
      padding: 10px 30px;
      border-top: 2px solid transparent;
      border-right: 1px solid transparent;
      border-left: 1px solid transparent;
      border-bottom: 1px solid #DDD;
    }
    #tab1:checked ~ #content1,
    #tab2:checked ~ #content2,
    #tab3:checked ~ #content3 {
      display: block;
    }
    input:checked + label {
      border-top-color: #222;
      border-right-color: #DDD;
      border-left-color: #DDD;
      border-bottom-color: transparent;
      text-decoration: none;
    }
  </style>
</head>

<body>

  <h1>CIV 5 Replays Database</h1>

  <main>


    <div id="inputs" style="display: none">
      <input id="tab1" type="radio" name="tabs" checked>
      <label class="radioTab" for="tab1">Plot by Game</label>
      <input id="tab2" type="radio" name="tabs">
      <label class="radioTab" for="tab2">Plot by Player</label>
      <input id="tab3" type="radio" name="tabs">
      <label class="radioTab" for="tab3">Plot Distribution</label>
      <section id="content1">
        Choose game: <select id="gameID-select"></select>
        <br>
        dataset: <select id="dataset-select"></select>
      </section>
      <section id="content2">
        Player: <select id="playerID-select"></select>
        <br>
        dataset: <select id="dataset-select2"></select>
        <br>
        <button id="plotAllPlayers">Plot all players</button>
      </section>
      <section id="content3">
        <button id="beliefs-time">Beliefs-Time</button>
        <button id="policies-time">Policies-Time</button>
        <button id="techs-time">Technologies-Time</button>
      </section>

      <div id="error" class="error"></div>
      <div id='plotOut'><!-- Plotly chart will be drawn inside this DIV --></div>
      <br>
      <!-- button id="BuildingClasses" class="button">Request BuildingClasses</button>
      <button id="Policies" class="button">Request Policies</button>
      <button id="ReplayDataSets" class="button">Request ReplayDataSets</button>
      <button id="Technologies" class="button">Request Technologies</button>
      <button id="QuitTurn" class="button">Update QuitTurn</button-->
      <button id="BeliefsAverage" class="button">Average Turn of Belief Adoption</button>
      <button id="BeliefsMedian" class="button">Median Turn of Belief Adoption</button>
      <button id="BeliefsMinumum" class="button">Minimum Turn of Belief Adoption</button>
      <button id="BeliefsTimes" class="button">Number Times of Belief Adoption</button>
      <button id="PoliciesAverage" class="button">Average Turn of Policy Adoption</button>
      <button id="PoliciesMedian" class="button">Median Turn of Policy Adoption</button>
      <button id="PoliciesMinumum" class="button">Minimum Turn of Policy Adoption</button>
      <button id="PoliciesTimes" class="button">Number Times of Policy Adoption</button>
      <button id="TechnologiesAverage" class="button">Average Turn of Technology Research</button>
      <button id="TechnologiesMedian" class="button">Median Turn of Technology Research</button>
      <button id="TechnologiesMinimum" class="button">Minimum Turn of Technology Research</button>
      <br>
      <label for='commands'>Enter some SQL</label>
      <textarea id="commands"></textarea>

      <button id="execute" class="button">Execute</button>
      <button id='savedb' class="button">Save the db</button>
    </div>

    <pre id="output">Loading...</pre>
  </main>

  <script type="text/javascript" src="sql.js"></script>

  <footer>
    <label id="dbsize"></label>
  </footer>

  <script type="text/javascript" src="gui.js"></script>
</body>

</html>