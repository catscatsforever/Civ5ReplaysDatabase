<!doctype html>
<html>

<head>
  <meta charset="utf8">
  <title>CIV 5 Replays Database</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css" type="text/css">
  <link rel="stylesheet" href="style.css" type="text/css">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js" type="text/javascript"></script>
  <script src='https://cdn.plot.ly/plotly-2.26.0.min.js' type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/fflate@0.8.0/umd/index.min.js" type="text/javascript"></script>
</head>

<body>

  <h1>CIV 5 Replays Database</h1>

  <main>

    <div id="inputs" style="display: none">
      <input class="radioTab plot-clk" id="tab1" type="radio" name="tabs" checked>
      <label class="labelTab" for="tab1">Plot by Game</label>
      <input class="radioTab plot-clk" id="tab2" type="radio" name="tabs">
      <label class="labelTab" for="tab2">Plot by Player</label>
      <input class="radioTab plot-clk" id="tab3" type="radio" name="tabs">
      <label class="labelTab" for="tab3">Compare Average</label>
      <input class="radioTab plot-clk" id="tab4" type="radio" name="tabs">
      <label class="labelTab" for="tab4">Plot Distribution</label>
      <input class="radioTab plot-clk" id="tab5" type="radio" name="tabs">
      <label class="labelTab" for="tab5">Tables</label>
      <section id="content1">
        <span class="sp">Choose game:</span>
        <div class="dropdown">
          <button id="gameID-select-head" class="btn dropdown-head"></button>
          <div id="gameID-select-dropdown" class="dropdown-content"></div>
        </div>
        <br>
        <div class="dropdown">
          <button id="dataset-select-head" class="btn dropdown-head"></button>
          <div id="dataset-select-dropdown" class="dropdown-content"></div>
        </div>
        <br>
        <button id="plotAllGames" class="btn plot-clk">Plot all games</button>
      </section>
      <section id="content2">
        <span class="sp">Player:</span>
        <div class="dropdown">
          <button id="playerID-select-head" class="btn dropdown-head"></button>
          <div id="playerID-select-dropdown" class="dropdown-content"></div>
        </div>
        <br>
        <div class="dropdown">
          <button id="dataset-select-head-2" class="btn dropdown-head"></button>
          <div id="dataset-select-dropdown-2" class="dropdown-content"></div>
        </div>
        <br>
        <button id="plotAllPlayers" class="btn plot-clk">Plot all players</button>
      </section>
      <section id="content3">
        <span class="sp">Choose group to compare:</span>
        <div class="dropdown">
          <button id="compare-group-select-head" class="btn dropdown-head"></button>
          <div id="compare-group-select-dropdown" class="dropdown-content">
          </div>
        </div>
        <br>
        <div class="dropdown">
          <button id="dataset-select-head-3" class="btn dropdown-head"></button>
          <div id="dataset-select-dropdown-3" class="dropdown-content"></div>
        </div>
        <br>
        Method:
        <input class="sp compare-clk" id="compare-group-arithmeticMean" type="radio" name="compareGroupMode" checked>
        <label for="compare-group-arithmeticMean">Arithmetic Mean</label>
        <input class="sp compare-clk" id="compare-group-winsorizedMean" type="radio" name="compareGroupMode">
        <label for="compare-group-winsorizedMean">20% Winsorized Mean</label>
        <input class="sp compare-clk" id="compare-group-median" type="radio" name="compareGroupMode">
        <label for="compare-group-median">Median</label>
      </section>
      <section id="content4">
        <span class="sp">Bar charts:</span>
        <br>
        <button id="beliefs-time" class="btn plot-clk">Beliefs-Time</button>
        <button id="policies-time" class="btn plot-clk">Policies-Time</button>
        <button id="techs-time" class="btn plot-clk">Technologies-Time</button>
        <br>
        <span class="sp">Sankey diagrams:</span>
        <br>
        Show groups:
        <input class="sp sankey-clk" id="sankey-groups1" type="radio" name="groupMode" checked>
        <label for="sankey-groups1">Simple</label>
        <input class="sp sankey-clk" id="sankey-groups2" type="radio" name="groupMode">
        <label for="sankey-groups2">Winners</label>
        <input class="sp sankey-clk" id="sankey-groups3" type="radio" name="groupMode">
        <label for="sankey-groups3">Winners (Detailed)</label>
        <br>
        <button id="sankey-policies" class="btn sankey-clk">Policy Branches</button>
        <br>
        <button id="sankey-tradition" class="btn sankey-clk">Tradition</button>
        <button id="sankey-liberty" class="btn sankey-clk">Liberty</button>
        <button id="sankey-honor" class="btn sankey-clk">Honor</button>
        <br>
        <button id="sankey-piety" class="btn sankey-clk">Piety</button>
        <button id="sankey-patronage" class="btn sankey-clk">Patronage</button>
        <button id="sankey-aesthetics" class="btn sankey-clk">Aesthetics</button>
        <br>
        <button id="sankey-commerce" class="btn sankey-clk">Commerce</button>
        <button id="sankey-exploration" class="btn sankey-clk">Exploration</button>
        <button id="sankey-rationalism" class="btn sankey-clk">Rationalism</button>
        <br>
        <button id="sankey-freedom" class="btn sankey-clk">Freedom</button>
        <button id="sankey-order" class="btn sankey-clk">Order</button>
        <button id="sankey-autocracy" class="btn sankey-clk">Autocracy</button>
        <br>
        <button id="sankey-techs" class="btn sankey-clk">Techs-test</button>
      </section>
      <section id="content5">
        <button id="tableHallOfFame" class="btn">Hall of Fame</button>
        <button id="tableBeliefAdoption" class="btn">Belief Adoption</button>
        <button id="tablePolicyAdoption" class="btn">Policy Adoption</button>
        <button id="tableTechResearch" class="btn">Technology Research</button>
        <button id="tableWonderConstruction" class="btn">Wonder Construction</button>
        <br>
        <label for="showSql" class="sp">Show SQL</label>
        <input id="showSql" type="checkbox" class="chk">
        <div id="sqlBox">
          <textarea id="commands"></textarea>
          <button id="execute" class="btn">Execute</button>
          <button id="savedb" class="btn">Save the db</button>
        </div>
        <span id="loading" class="sp">Loading...</span>
        <br>
        <pre id="output"></pre>
      </section>

      <div id="error" class="error"></div>
      <div id="plotOut"><!-- Plotly chart will be drawn inside this DIV --></div>
    </div>

  </main>

  <script type="text/javascript" src="sql.js"></script>

  <footer>
    <label id="dbsize"></label>
  </footer>

  <script type="text/javascript" src="gui.js"></script>
</body>

</html>